## 📆 2025-11-06

### 🔔 스크럼

- 네트워크 모델, IP 강의 복습 및 정리
- 과제 2번 정리 : 커뮤니티 프로젝트를 단일 AWS-EC2를 사용해 빅뱅 배포
- 과제 3번 진행 : 웹 브라우저로 HTTP요청 보내고, wireshark로 TCP 3-way handshake와 HTTP 요청/응답 패킷 분석
- 과제 4번 진행 : 동일한 파일을 TCP(netcat)와 UDP(netcat -u)로 전송한 후, 패킷 손실 상황에서 결과 차이를 분석

### 🚀 Today I Learned

#### [네크워크 모델]

##### 네트워크 프로토콜

- 네트워크 상에서의 모든 장치가 원활한 통신을 위해 정하는 규칙과 절차
- 사용 이유 : 데이터를 안전하고 신뢰성있게 전송하자
- 즉, 네트워크 장치들 간 약속 - 데이터 전송을 원활하고 안전하게 사용하기 위함
- 주요 네트워크 프로토콜
  - TCP : 신뢰성있는 데이터 전송 보장
  - UDP : 비연결성 프로토콜이라 빠른 전송 속도 제공
  - ICMP : 네트워크 진단, 오류 메시지 전송 용도
  - ARP : IP주소기반, MAC주소를 찾는 프로토콜
- 주요 응용계층 프로토콜
  - HTTP, HTTPS : 웹브라우저-서버간 사용
  - FTP : 서버-클라이언트 간 파일 전송 프로토콜
  - SSH : 안전한 원격 접속 제공 프로토콜
  - SMTP : 이메일 전송을 위한 표준 프로토콜
- 어떻게 전송될까?
  - 패킷형태로 보냄
    - 왜? 데이터를 스트림형태로 보낼시 다른 통신이 기다려야하는 문제 발생
    - 데이트 스트림이 아닌 쪼개서 보내자! ⇒ 패킷으로 쪼개자!
    - 쪼개서 보니까 복잡해진 네트워크 데이터가 됨 → 어떻게 처리할까?
  - TCP/IP로 처리
    - 인터넷에서 컴퓨터 간 통신을 위한 표준 프로토콜 스택
    - 대부분의 현대 네트워크 통신에서 사용됨
    - 사용이유 : 복잡한 네트워크 과정에서 특정 역할을 담당하도록 분리하여 체계적인 데이터 전송보장을 위함
    - 계층화 : 각 계층은 독립적으로 작동, 다른계층과 상호작용으로 통신 완성

##### TCP/IP 데이터 전송

- HTTP로 이미지 전송해볼까?
  - 응용계층(HTTPS등)
    - 애플리케이션(Spring 등)에서 이미지 데이터 생성
    - 데이터를 생성하고, 이를 “메세지”라고 부름
    - 메시지에 데이터를 담고 전송 계층으로 전달
  - 전송계층(TCP 등)
    - 전달 받은 메시지 데이터를 세그먼트 단위로 자름
      - 링크 단계에서 한번에 보낼 수 있는 양으로 분리
    - MSS 단위 : 한번에 보낼 수 있는 패킷 양
    - 자른 뒤 각 자른 **데이터에 전송에 필요한 데이터**를(출발 포트, 도착 포트, 세그먼트 순서 등) 헤더를 붙임
  - 인터넷 계층(IP)
    - 전송 계층에서 전달받은 세그먼트에 IP헤더 추가
    - **네크워크 간 경로 설정에 필요한 정보**, 데이터 목적지 IP, 출발지 IP같은 정보를 헤더에 추가
    - 완성본은 IP패킷이라 부름
  - 네트워크 인터페이스 계층
    - 물리적 네트워크상 전송을 위한 계층
    - 이더넷, 와이파이 등 전송되기 위한 프레임 생성
    - MAC 주소 등이 헤더에 추가됨
    - 완성본은 프레임이라 부름
  - 물리계층
    - 이렇게 만들어진 것을 전기,광, 전파 등 전송 신호로 변환해줌
  - 수신측에서는 전달 받은 전송신호를 다시 응용계층까지 헤더를 벗겨냄(Decapsulation) → 그럼 받아야하는 데이터 있음
- 사용이유
  - 통신 표준화 : 서로 다른 장치가 데이터 주고 받는규칙
  - 확장성 : 다양한 네트워크 기술과 호환
- 노드에서 계층 다 타서 프레임 만듬 → 라우터(NAT 수행. IP볼라면 네트워크,인터넷계층까지 까야함)
  - 네트워크의 MAC주소는 목적지가 아닌 바로 다음 라우터임
  - NAT는 포트도 바꿈. 전송계층에 있음
  - 인터넷계층도 까서 다음 목적지갈라면 어느 라우터로 가야하는지, 그 라우터의 MAC주소를 써서 보냄 → 이거의 반복
- 여기서 새로운 라우터가 들오오면 MAC주소 어떻게 알수있지? 그래서 등장한게 ARP

##### TCP/IP vs OSI

- TCP/IP 모델은 실제 네트워크 통신에서 사용되며, 인터넷 프로토콜의 표준을 제공함. 4계층 구조로 실용적이고, 널리 쓰임
- OSI 모델은 네트워크 통신을 7계층으로 나누어 설명하는 이론적 모델로, 네트워크 교육에서 주로 사용됨. TCP/IP보다 세분화되어 있지만, 실제 네트워크에서 직접적으로 사용되지는 않음

##### ARP

- IP주소를 해당 호스트의 MAC주소로 매핑해주는 프로토콜
- ARP 호출하면 브로드캐스트함

##### ICMP

- IP가 패킷을 목적지까지 보내는 과정동안 오류나 제어상황을 알려주는 프로토콜
- 알아야하는 이유 : 네트워크 트러블슈팅을 잘이해하기 위해

#### [IP 주소관리]

##### CIDR

- 라우팅할때 트래픽 경로를 명확하게 지정하기 위해 네트워크 범위를 구분하는 주소 표준
- 등장 이유 : 기존 클래스 기반의 주소 체계가 유연하지 않음
- IP주소
  - 네트워크 부분 : 네트워크를 식별하는데 사용됨. IP앞쪽 부분
  - 호스트 부분 : 네트워크 내 특정 장치를 식별하는데 사용됨.
- 표기법 : IP주소와 서브넷 마스크를결합하여 네트워크를 나타냄
- 설계 예시 : 서브넷 마스크

##### 서브넷 마스크

- IP 주소에서 네트워크 영역과 호스트 영역을 구분하기 위해 사용되는 32비트 숫자 혹은 값
- 서브넷 마스크를 늘리면 늘릴수록 쪼개지는 개별의 네트워크는 많아지는데, 그 안에 들어가는 호스트수는 적어짐
- ex) 서브넷 마스크가 255.255.255.0 일때, 네트워크 수가 1개임. ARP를 하면 모든 노드들한테 브로드캐스트해서 MAC주소 알아내야함 → 트래픽, 보안쪽으로 좋지않음
  - 큰 네트워크안에 호스트들이 너무 많으니까 서브넷팅을 하는것
- 서브넷팅하면 좋은점?
  - 브로드캐스트를 해도 서브넷안에서만 이루어져서 트래픽이 엄청난걸 막을 수 있음
  - 각 서브넷에는 라우터가 존재하니까, NAT, 포트포워딩 등을 설정할 수 있음

### 🗨️ 오늘의 회고

- wireshark를 처음 써봤는데, 내가 배포한 서버에서 주고받는 요청들의 패킷을 뜯어볼 수 있어서 신기했다.
